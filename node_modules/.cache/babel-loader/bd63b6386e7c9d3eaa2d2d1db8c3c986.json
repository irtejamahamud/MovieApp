{"ast":null,"code":"var _jsxFileName = \"I:\\\\ReactProject\\\\movie-app\\\\src\\\\Pages\\\\Movies.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport MoviePoster from \"../Components/MoviePoster\";\nimport Loading from \"../Components/Loading\";\nimport { Form } from 'react-bootstrap';\nimport \"../Styles/Movies.css\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Movies() {\n  _s();\n  const [genreOptions, setGenreOptions] = useState([]);\n  const [selectOptions, setSelectOptions] = useState({\n    orden: 'popularity.desc',\n    genero: ''\n  });\n  const [results, setResults] = useState([]);\n  const [spinner, setSpinner] = useState(true);\n  useEffect(() => {\n    setSpinner(true);\n    fetch('https://api.themoviedb.org/3/genre/movie/list?api_key=c2c2cd525b5005c063f7b1a9d54ab699&language=es-ES').then(res => res.json()).then(data => {\n      setGenreOptions(data.genres);\n      setSpinner(false);\n    }).catch(error => {\n      console.log(error);\n    });\n  }, []);\n  const handleChange = e => {\n    setSelectOptions({\n      ...selectOptions,\n      [e.target.name]: e.target.value\n    });\n  };\n  useEffect(() => {\n    setSpinner(true);\n    fetch(`https://api.themoviedb.org/3/discover/movie?api_key=c2c2cd525b5005c063f7b1a9d54ab699&language=es-ES&sort_by=${selectOptions.orden}&include_adult=false&page=1&with_genres=${selectOptions.genero}`).then(res => res.json()).then(data => {\n      console.log(data);\n      setResults(data.results);\n      setSpinner(false);\n    }).catch(error => {\n      console.log(error);\n    });\n  }, [selectOptions]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [spinner && /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Movies\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"select-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n        children: \"Select genre:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n        className: \"select\",\n        as: \"select\",\n        onChange: handleChange,\n        name: \"genero\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"All genres\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 6\n        }, this), genreOptions.map(genreOption => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: genreOption.id,\n          children: genreOption.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 41\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n        children: \"Sort by:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n        className: \"select\",\n        as: \"select\",\n        onChange: handleChange,\n        name: \"orden\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"popularity.desc\",\n          children: \"Most popular\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"primary_release_date.desc\",\n          children: \"Latest releases\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"original_title.asc\",\n          children: \"A - Z\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"original_title.desc\",\n          children: \"Z - A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"results-container\",\n      children: results.length > 0 && results.map(result => /*#__PURE__*/_jsxDEV(MoviePoster, {\n        ...result,\n        result: result\n      }, result.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 52\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true);\n}\n_s(Movies, \"BafeNKY7p8w8oZyFqajwNx4S4fA=\");\n_c = Movies;\nexport default Movies;\nvar _c;\n$RefreshReg$(_c, \"Movies\");","map":{"version":3,"names":["React","useState","useEffect","MoviePoster","Loading","Form","jsxDEV","_jsxDEV","Fragment","_Fragment","Movies","_s","genreOptions","setGenreOptions","selectOptions","setSelectOptions","orden","genero","results","setResults","spinner","setSpinner","fetch","then","res","json","data","genres","catch","error","console","log","handleChange","e","target","name","value","children","fileName","_jsxFileName","lineNumber","columnNumber","className","Control","as","onChange","map","genreOption","id","length","result","_c","$RefreshReg$"],"sources":["I:/ReactProject/movie-app/src/Pages/Movies.js"],"sourcesContent":["import React , {useState, useEffect} from \"react\";\r\nimport MoviePoster from \"../Components/MoviePoster\";\r\nimport Loading from \"../Components/Loading\";\r\nimport {Form} from 'react-bootstrap';\r\nimport \"../Styles/Movies.css\";\r\n\r\nfunction Movies(){\r\n\r\n\tconst [genreOptions, setGenreOptions] = useState([]);\r\n\tconst [selectOptions, setSelectOptions] = useState({orden: 'popularity.desc', genero: ''});\r\n\tconst [results, setResults] = useState([]);\r\n\tconst [spinner, setSpinner] = useState(true);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetSpinner(true);\r\n\t\tfetch('https://api.themoviedb.org/3/genre/movie/list?api_key=c2c2cd525b5005c063f7b1a9d54ab699&language=es-ES')\r\n\t\t\t.then((res) => res.json())\r\n\t\t\t.then((data) => {\r\n\t\t  \t\tsetGenreOptions(data.genres);\r\n\t\t  \t\tsetSpinner(false);\r\n\t\t  \t})\r\n\t\t  \t.catch((error)=>{\r\n            \tconsole.log(error)\r\n        \t})\r\n\t}, []);\r\n\r\n\tconst handleChange = (e) => {\r\n\t\tsetSelectOptions({\r\n\t\t\t...selectOptions,\r\n\t\t\t[e.target.name] : e.target.value\r\n\t\t})\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tsetSpinner(true);\r\n\t    fetch(`https://api.themoviedb.org/3/discover/movie?api_key=c2c2cd525b5005c063f7b1a9d54ab699&language=es-ES&sort_by=${selectOptions.orden}&include_adult=false&page=1&with_genres=${selectOptions.genero}`)\r\n\t    \t.then((res) => res.json())\r\n\t    \t.then((data) => {\r\n\t\t      \tconsole.log(data);\r\n\t\t      \tsetResults(data.results);\r\n\t\t      \tsetSpinner(false);\r\n\t    \t})\r\n\t    \t.catch((error)=>{\r\n            \tconsole.log(error)\r\n        \t})\r\n\t}, [selectOptions]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{spinner &&\r\n\t\t\t\t<Loading />\r\n\t\t\t}\r\n\t\t\t<h3>Movies</h3>\r\n\r\n\t\t\t<div className=\"select-container\">\r\n\t\t\t\t<h6>Select genre:</h6>\r\n\t\t\t\t<Form.Control className=\"select\" as=\"select\" onChange={handleChange} name=\"genero\">\r\n\t\t\t\t\t<option value=\"\">All genres</option>\r\n\t\t\t\t\t{genreOptions.map((genreOption) => <option value={genreOption.id}>{genreOption.name}</option>)}\r\n\t\t\t\t</Form.Control>\r\n\t\t\t\t<h6>Sort by:</h6>\r\n\t\t\t\t<Form.Control className=\"select\" as=\"select\" onChange={handleChange} name=\"orden\">\r\n\t\t\t\t\t<option value=\"popularity.desc\" >Most popular</option>\r\n\t\t\t\t\t<option value=\"primary_release_date.desc\" >Latest releases</option>\r\n\t\t\t\t\t<option value=\"original_title.asc\" >A - Z</option>\r\n\t\t\t\t\t<option value=\"original_title.desc\" >Z - A</option>\r\n\t\t\t\t</Form.Control>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"results-container\">\r\n\t\t\t\t{results.length > 0 && results.map((result) => <MoviePoster key={result.id} {...result} result={result} />)}\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default Movies;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}
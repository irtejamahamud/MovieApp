{"ast":null,"code":"var _jsxFileName = \"I:\\\\ReactProject\\\\movie-app\\\\src\\\\Pages\\\\Movies.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport MoviePoster from \"../Components/MoviePoster\";\nimport Loading from \"../Components/Loading\";\nimport { Form } from \"react-bootstrap\";\nimport \"../Styles/Movies.css\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Movies() {\n  _s();\n  const [genreOptions, setGenreOptions] = useState([]);\n  const [selectOptions, setSelectOptions] = useState({\n    orden: \"popularity.desc\",\n    genero: \"\"\n  });\n  const [results, setResults] = useState([]);\n  const [spinner, setSpinner] = useState(true);\n  useEffect(() => {\n    setSpinner(true);\n    fetch(\"https://api.themoviedb.org/3/genre/movie/list?api_key=c2c2cd525b5005c063f7b1a9d54ab699&language=es-ES\").then(res => res.json()).then(data => {\n      setGenreOptions(data.genres);\n      setSpinner(false);\n    }).catch(error => {\n      console.log(error);\n    });\n  }, []);\n  const handleChange = e => {\n    setSelectOptions({\n      ...selectOptions,\n      [e.target.name]: e.target.value\n    });\n  };\n  useEffect(() => {\n    setSpinner(true);\n    fetch(`https://api.themoviedb.org/3/discover/movie?api_key=c2c2cd525b5005c063f7b1a9d54ab699&language=en-US&sort_by=${selectOptions.orden}&include_adult=false&page=1&with_genres=${selectOptions.genero}`).then(res => res.json()).then(data => {\n      console.log(data);\n      setResults(data.results);\n      setSpinner(false);\n    }).catch(error => {\n      console.log(error);\n    });\n  }, [selectOptions]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [spinner && /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Movies\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"select-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n        children: \"Select genre:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n        className: \"select\",\n        as: \"select\",\n        onChange: handleChange,\n        name: \"genero\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"All genres\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), genreOptions.map(genreOption => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: genreOption.id,\n          children: genreOption.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n        children: \"Sort by:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n        className: \"select\",\n        as: \"select\",\n        onChange: handleChange,\n        name: \"orden\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"popularity.desc\",\n          children: \"Most popular\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"primary_release_date.desc\",\n          children: \"Latest releases\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"original_title.asc\",\n          children: \"A - Z\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"original_title.desc\",\n          children: \"Z - A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"results-container\",\n      children: results.length > 0 && results.map(result => /*#__PURE__*/_jsxDEV(MoviePoster, {\n        ...result,\n        result: result\n      }, result.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(Movies, \"w1iw7Zvo8V52JaO4GN5Oh8de0tM=\");\n_c = Movies;\nexport default Movies;\nvar _c;\n$RefreshReg$(_c, \"Movies\");","map":{"version":3,"names":["React","useState","useEffect","MoviePoster","Loading","Form","jsxDEV","_jsxDEV","Fragment","_Fragment","Movies","_s","genreOptions","setGenreOptions","selectOptions","setSelectOptions","orden","genero","results","setResults","spinner","setSpinner","fetch","then","res","json","data","genres","catch","error","console","log","handleChange","e","target","name","value","children","fileName","_jsxFileName","lineNumber","columnNumber","className","Control","as","onChange","map","genreOption","id","length","result","_c","$RefreshReg$"],"sources":["I:/ReactProject/movie-app/src/Pages/Movies.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport MoviePoster from \"../Components/MoviePoster\";\r\nimport Loading from \"../Components/Loading\";\r\nimport { Form } from \"react-bootstrap\";\r\nimport \"../Styles/Movies.css\";\r\n\r\nfunction Movies() {\r\n  const [genreOptions, setGenreOptions] = useState([]);\r\n  const [selectOptions, setSelectOptions] = useState({\r\n    orden: \"popularity.desc\",\r\n    genero: \"\",\r\n  });\r\n  const [results, setResults] = useState([]);\r\n  const [spinner, setSpinner] = useState(true);\r\n\r\n  useEffect(() => {\r\n    setSpinner(true);\r\n    fetch(\r\n      \"https://api.themoviedb.org/3/genre/movie/list?api_key=c2c2cd525b5005c063f7b1a9d54ab699&language=es-ES\"\r\n    )\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        setGenreOptions(data.genres);\r\n        setSpinner(false);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }, []);\r\n\r\n  const handleChange = (e) => {\r\n    setSelectOptions({\r\n      ...selectOptions,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    setSpinner(true);\r\n    fetch(\r\n      `https://api.themoviedb.org/3/discover/movie?api_key=c2c2cd525b5005c063f7b1a9d54ab699&language=en-US&sort_by=${selectOptions.orden}&include_adult=false&page=1&with_genres=${selectOptions.genero}`\r\n    )\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        console.log(data);\r\n        setResults(data.results);\r\n        setSpinner(false);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }, [selectOptions]);\r\n\r\n  return (\r\n    <>\r\n      {spinner && <Loading />}\r\n      <h3>Movies</h3>\r\n\r\n      <div className=\"select-container\">\r\n        <h6>Select genre:</h6>\r\n        <Form.Control\r\n          className=\"select\"\r\n          as=\"select\"\r\n          onChange={handleChange}\r\n          name=\"genero\"\r\n        >\r\n          <option value=\"\">All genres</option>\r\n          {genreOptions.map((genreOption) => (\r\n            <option value={genreOption.id}>{genreOption.name}</option>\r\n          ))}\r\n        </Form.Control>\r\n        <h6>Sort by:</h6>\r\n        <Form.Control\r\n          className=\"select\"\r\n          as=\"select\"\r\n          onChange={handleChange}\r\n          name=\"orden\"\r\n        >\r\n          <option value=\"popularity.desc\">Most popular</option>\r\n          <option value=\"primary_release_date.desc\">Latest releases</option>\r\n          <option value=\"original_title.asc\">A - Z</option>\r\n          <option value=\"original_title.desc\">Z - A</option>\r\n        </Form.Control>\r\n      </div>\r\n\r\n      <div className=\"results-container\">\r\n        {results.length > 0 &&\r\n          results.map((result) => (\r\n            <MoviePoster key={result.id} {...result} result={result} />\r\n          ))}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Movies;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}